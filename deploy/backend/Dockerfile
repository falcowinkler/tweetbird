FROM java:8-alpine

ARG TWITTER_APP_KEY
ARG TWITTER_APP_SECRET
ARG TWITTER_USER_TOKEN
ARG TWITTER_USER_TOKEN_SECRET

ENV TWITTER_APP_KEY=$TWITTER_APP_KEY
ENV TWITTER_APP_SECRET=$TWITTER_APP_SECRET
ENV TWITTER_USER_TOKEN=$TWITTER_USER_TOKEN
ENV TWITTER_USER_TOKEN_SECRET=$TWITTER_USER_TOKEN_SECRET

RUN mkdir -p /app /app/resources
WORKDIR /app
COPY target/*-standalone.jar .
COPY resources/public resources/public
CMD java -jar tweetbird-deploy-standalone.jar
EXPOSE 8080